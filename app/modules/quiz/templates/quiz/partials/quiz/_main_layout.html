<div class="main-area" data-template-version="INJECT_DOCK_MARKER_20251225">
  <div class="card-container" id="mainCard" data-exam-id="{{ exam_id or '' }}">
    {% include 'quiz/partials/quiz/_header.html' %}
    {% include 'quiz/partials/quiz/_progress.html' %}
    {% include 'quiz/partials/quiz/_question.html' %}
    {% include 'quiz/partials/quiz/_footer.html' %}
  </div>

  {% include 'quiz/partials/quiz/_dock.html' %}

  {# 悬浮球 + 圆环功能菜单（答题页快捷功能） #}
  <div id="quizFab" class="quiz-fab" role="button" aria-label="快捷功能" title="快捷功能">
    <div class="quiz-fab-core">⋯</div>
  </div>
  <div id="quizFabMenu" class="quiz-fab-menu" aria-hidden="true">
    <button class="quiz-fab-item" data-action="autoNext" title="答对自动切题" aria-label="答对自动切题">
      <span class="quiz-fab-icon">✓</span>
    </button>
    <button class="quiz-fab-item" data-action="aiExplain" title="AI 解析" aria-label="AI 解析">
      <span class="quiz-fab-icon">AI</span>
    </button>
    <button class="quiz-fab-item" data-action="bookmark" title="收藏/取消收藏" aria-label="收藏/取消收藏">
      <span class="quiz-fab-icon">★</span>
    </button>
    <button class="quiz-fab-item" data-action="toggleLayout" title="切换布局" aria-label="切换布局">
      <span class="quiz-fab-icon">⇄</span>
    </button>
    <button class="quiz-fab-item" data-action="clearCurrent" title="清除本题进度" aria-label="清除本题进度">
      <span class="quiz-fab-icon">↺</span>
    </button>
    {% if is_admin or is_subject_admin %}
      <button class="quiz-fab-item" data-action="editQuestion" title="编辑题目" aria-label="编辑题目">
        <span class="quiz-fab-icon">✎</span>
      </button>
    {% endif %}
  </div>
</div>
